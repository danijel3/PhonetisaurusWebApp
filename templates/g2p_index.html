{% extends "layout.html" %}
{% block body %}
<div class="container">
    <h2 class="mt-5">Test on words</h2>
    <div class="container border border-secondary m-2 p-4">
        <form method="post" action="words">
            <div class="mb-3">
                <label class="form-label" for="words">Words (one per line):</label>
                <textarea name="words" id="words" class="form-control"></textarea>
            </div>
            <div class="mb-3">
                <label class="form-label" for="model2">Model file name:</label>
                <select name="model" id="model2" class="form-select">
                    {% for file in model_files %}
                    <option value="{{ file.stem }}">
                        {{ file.stem }}
                    </option>
                    {% endfor %}
                </select>
            </div>
            <div class="mb-3">
                <div class="row">
                    <label class="col-form-label col-1" for="pmass2">pmass:</label>
                    <div class="col-2">
                        <input class="form-control" type="number" name="pmass" id="pmass2" value="0.8" step="0.01"
                               min="0" max="1">
                    </div>
                </div>
                <div class="row">
                    <label class="col-form-label col-1" for="beam2">beam:</label>
                    <div class="col-2">
                        <input class="form-control" type="number" name="beam" id="beam2" value="10000">
                    </div>
                </div>
            </div>
            <div class="mb-3">
                <label class="form-label" for="output">Output type:</label>
                <select class="form-select" name="output" id="output">
                    <option value="html" selected>HTML</option>
                    <option value="text">Text</option>
                    <option value="json">JSON</option>
                </select>
            </div>
            <div class="mb-3 text-center">
                <input type="submit" value="Run" class="btn btn-warning col-2">
            </div>
        </form>
    </div>
    <h2 class="mt-5">Generate lexicon from a vocabulary file</h2>
    <div class="container border border-secondary m-2 p-4">
        <form method="post" action="wordlist">
            <div class="mb-3">
                <label class="form-label" for="name2">New lexicon name:</label>
                <input class="form-control" type="text" name="name" id="name2" required>
            </div>
            <div class="mb-3">
                <label class="form-label" for="vocab">Vocab file name:</label>
                <select name="vocab" id="vocab" class="form-select">
                    {% for file in vocab_files %}
                    <option value="{{ file.stem }}">
                        {{ file.stem }}
                    </option>
                    {% endfor %}
                </select>
            </div>
            <div class="mb-3">
                <label class="form-label" for="cache">Override lexicon:</label>
                <select name="cache" id="cache" class="form-select">
                    <option value="" selected>Ignore...</option>
                    {% for file in lex_files %}
                    <option value="{{ file.stem }}">
                        {{ file.stem }}
                    </option>
                    {% endfor %}
                </select>
            </div>
            <div class="mb-3">
                <label class="form-label" for="model">Model file name:</label>
                <select name="model" id="model" class="form-select">
                    {% for file in model_files %}
                    <option value="{{ file.stem }}">
                        {{ file.stem }}
                    </option>
                    {% endfor %}
                </select>
            </div>
            <div class="mb-3">
                <div class="row">
                    <label class="col-form-label col-1" for="pmass">pmass:</label>
                    <div class="col-2">
                        <input class="form-control" type="number" name="pmass" id="pmass" value="0.8" step="0.01"
                               min="0" max="1">
                    </div>
                </div>
                <div class="row">
                    <label class="col-form-label col-1" for="beam">beam:</label>
                    <div class="col-2">
                        <input class="form-control" type="number" name="beam" id="beam" value="10000">
                    </div>
                </div>
            </div>
            <div class="mb-3 text-center">
                <input type="submit" value="Generate" class="btn btn-warning col-2">
            </div>
        </form>
    </div>
</div>
{% endblock %}